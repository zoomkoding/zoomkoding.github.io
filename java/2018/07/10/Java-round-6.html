<!DOCTYPE html>
<html>

  <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134826755-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134826755-1');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>6라운드. (자바 네트워크) 육목게임 네트워크 연결하기!</title>
  <meta name="description" content="마지막 라운드 과제를 진행하고 주말 쉬고 바로 교수님 연구에 투입됐다. 그리고 정신없이 달리다 보니 어느새 3주라는 시간이 흘렀다. 늦었지만 네트워크 연결을 어떻게 했었는지 기록으로 남기고 싶어서 글을 적는다.">
  
  <meta name="author" content="Jinhyeok Jeong">
  <meta name="copyright" content="&copy; Jinhyeok Jeong 2022">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="마지막 라운드 과제를 진행하고 주말 쉬고 바로 교수님 연구에 투입됐다. 그리고 정신없이 달리다 보니 어느새 3주라는 시간이 흘렀다. 늦었지만 네트워크 연결을 어떻게 했었는지 기록으로 남기고 싶어서 글을 적는다." />
  <meta property="og:url" content="https://zoomkoding.github.io" />
  <meta property="og:site_name" content="줌코딩의 코딩일기" />
  <meta property="og:title" content="6라운드. (자바 네트워크) 육목게임 네트워크 연결하기!" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://zoomkoding.github.io/assets/instacode.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="6라운드. (자바 네트워크) 육목게임 네트워크 연결하기!">
  <meta name="twitter:description" content="마지막 라운드 과제를 진행하고 주말 쉬고 바로 교수님 연구에 투입됐다. 그리고 정신없이 달리다 보니 어느새 3주라는 시간이 흘렀다. 늦었지만 네트워크 연결을 어떻게 했었는지 기록으로 남기고 싶어서 글을 적는다.">
  <meta name="twitter:image" content="https://zoomkoding.github.io/assets/instacode.png">
  <meta name="twitter:url" content="https://zoomkoding.github.io">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://zoomkoding.github.io/java/2018/07/10/Java-round-6.html">
  <link rel="alternate" type="application/rss+xml" title="줌코딩의 코딩일기" href="https://zoomkoding.github.io/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/Crewcials.jpeg" alt="줌코딩의 코딩일기">
      
    </a>
    <div class="nav-link new-blog outer">
      <button type="button" onclick="location.href='https://www.zoomkoding.com'">
        <div class="button-text">
          <img class="thumbnail" src="https://github.com/zoomKoding/zoomKoding.github.io/blob/source/zoomkoding-small.png?raw=true" alt="개발 블로그 테마 개발">
          <div class="label">
            <div class="name">zoomkoding.com</div>
            <div class="description">이전한 블로그로 이동하기</div>     
          </div>    
        </div>
         
      </button>
    </div>
  
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/posts/">Posts</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

        <li class="nav-link new-blog inner">
          <button type="button" onclick="location.href='https://www.zoomkoding.com'">
            <div class="button-text">
              <img class="thumbnail" src="https://github.com/zoomKoding/zoomKoding.github.io/blob/source/zoomkoding-small.png?raw=true" alt="개발 블로그 테마 개발">
              <div class="label">
                <div class="name">zoomkoding.com</div>
                <div class="description">이전한 블로그로 이동하기</div>     
              </div>    
            </div>
             
          </button>
        </li>
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container has-cover" style="background-image: url(/assets/instacode.png);">
  <div class="scrim has-cover">
    <header class="post-header">
      <h1 class="title">6라운드. (자바 네트워크) 육목게임 네트워크 연결하기!</h1>
      <p class="info">by <strong>줌코딩</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">



<section class="post-meta">
  <div class="post-date">July 10, 2018</div>
  <div class="post-categories">
  in 
    
    <a href="/category/java">Java</a>
    
  
  </div>
</section>
<div class="coupang-partners">
  <div class="items">
    <iframe src="https://coupa.ng/cbvuWm" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuuT" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuYz" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuZQ" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvu3h" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
  </div>
</div>
<article class="post-content">
  <p>마지막 라운드 과제를 진행하고 주말 쉬고 바로 교수님 연구에 투입됐다. 그리고 정신없이 달리다 보니 어느새 3주라는 시간이 흘렀다. 늦었지만 네트워크 연결을 어떻게 했었는지 기록으로 남기고 싶어서 글을 적는다.</p>

<p>육목게임 네트워크 연결하기</p>

<p>기한 : 7/2 ~ 7/6(오후 12시)</p>

<p>기능 : 서로 다른 피씨에서 접속해서 게임이 가능하게 만들어라!</p>

<p>많은 시간이 흘렀지만 그래도 네트워크를 어떻게 연결했었는지 하나하나 집어가면서 코드를 보이겠다!</p>

<p>먼저 내가 사용한 코드의 방법에 대해서 설명해보겠다.
TCP 소켓 프로그래밍이라는 것을 이해하는데 조금의 시간이 소요됐다.</p>

<p>소켓프로그래밍이란 server와 client 사이에 통신 방법인데 소켓이 이 둘의 데이터를 주고 받을 수 있게 해준다고 한다.</p>

<p>그렇다면 여기서 소켓 프로그래밍을 이용해서 client와 client가 데이터를 주고 받을 수 있게 해주면 게임도 가능하게 된다는 걸 알게 됐다:)</p>

<h3><로직></로직></h3>

<p>일단 Server는 client가 접속하게 되면 해당 client를 위한 receiver를 생성해주고 유저를 명단에 추가해준다.
그리고 Server는 receiver를 통해 받은 정보를 명단에 있는 유저들에게 뿌려준다!</p>

<p>말은 쉽지만 막상 코드는 socket과 thread와 다양한 것들이 섞여 있어서 이해가 마냥 쉽지 만은 않을 것이다.
나는 서버와 클라이언트를 이해하기 위해서 다음 사이트를 참고했다.</p>

<p><a href="http://lktprogrammer.tistory.com/64">http://lktprogrammer.tistory.com/64</a></p>

<p>나는 서버에 db를 연동시켰다. 앞선 라운드에서 했던 것처럼 서버에서 db 정보를 받아오고 검색하고 할 수 있게 해서 유저들의 데이터를 db를 이용해서 관리할 수 있게 했다.</p>

<p>로그인 까지 하려다 보니까 진짜 시간이 너어어무 많이 걸렸다.
그리고 나는 특별히 대기자 명단을 만들어서 대전 신청이 가능하게 했고 대기자가 게임중인지 대기중인지 실시간으로 확인하게 했다.
경기 승패에 따라서 전적을 모든 사람들의 화면을 업데이트하게 했다.(이거하느라 정말 많은 시간이 걸렸다..)</p>

<p>코드 짠지 너무 오래라 자세한 코드 설명은 뒤로 하고 구현한 모습만 보자.</p>

<p>자세한 내용은 내 github를 참고하기 바란다.</p>

<p><a href="https://github.com/gur5381/JavaStudy18-1">https://github.com/gur5381/JavaStudy18-1</a></p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/1.png" alt="사진" />
<em>모드선택</em></p>

<p>앞서 라운드에서 만든 게임의 내용도 보존하기 위해서 모드를 두개로 나눴다:)</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/2.png" alt="사진" />
<em>첫 화면</em></p>

<p>server가 db를 참조하면서 로그인과 회원가입이 가능하게 했다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/3.png" alt="사진" />
<em>회원가입 시 중복확인 모습</em></p>

<p>회원가입 시 username과 nickname을 검색하여 중복 여부를 확인하게 했다. 그리고 원하는 포켓몬을 고를 수 있게 해줬다:)</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/4.png" alt="사진" />
<em>회원가입 시 데이터 입력한 모습</em></p>

<p>비밀번호와 여러 정보를 확인한 후에 모든 데이터가 올바르게 입력되면 계정이 생성된다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/5.png" alt="사진" />
<em>회원가입 완료 시 메세지창 모습</em></p>

<p>계정이 생성됐다는 메세지와 함께 로그인 창으로 돌아간다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/6.png" alt="사진" />
<em>회원가입 완료 시 조나 정보가 추기된 모습</em></p>

<p>db에 조나라는 데이터가 추가 된 것을 볼 수 있다:)</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/7.png" alt="사진" />
<em>로그인화면</em></p>

<p>그럼 본격적으로 로그인 하는 것을 보여주겠다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/8.png" alt="사진" />
<em>대기 창 모습</em></p>

<p>내가 혼자 로그인하면 내 전적, 닉네임, 캐릭터를 보여준다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/9.png" alt="사진" />
<em>대기 창에 다른 유저 접속 시 모습</em></p>

<p>다른 유저가 로그인 하게 되면 대기자 명단을 repaint해서 대기자가 추가 되게 했다.</p>

<p>다음과 같이 유진이 로그인하자 자동으로 유진이 추가된다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/10.png" alt="사진" />
<em>대전 신청시 모습</em></p>

<p>이 때 유진이 대기자 명단에 있는 내 캐릭터를 클릭하게 되면 다음과 같이 challenge 메세지가 가게 된다. 여기서 승락 버튼을 누르면 자동으로 경기장으로 이동하게 된다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/11.png" alt="사진" />
<em>진혁 경기 모습</em></p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/12.png" alt="사진" />
<em>유진 경기 모습</em></p>

<p>여기서 돌을 서로 주고 받을 수 있게 해주었다. 한사람이 돌을 놓게 되면 서버를 통해서 서로 돌의 위치를 보내줄 수 있게 했다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/13.png" alt="사진" />
<em>결과 창</em></p>

<p>그렇게 해서 한쪽이 돌을 6개 놓게 되면 여기에 맞춰서 승패가 결정되고 양쪽 화면에 모두 이 화면을 띄워줬다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/14.png" alt="사진" />
<em>전적이 최신화 된 모습</em></p>

<p>승패 판정후 자동으로 데이터가 최신화 되게 했다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round6/15.png" alt="사진" />
<em>전적 최신화를 포함해서 디비가 최신화 된 모습</em></p>

<p>db에 데이터가 최신화된 모습이다:)</p>

<p>자세한 코드를 설명해주고 싶지만 이미 시간이 많이 흘러서 하지 못하는 것을 이해해주기 바란다. 그래도 오랜만에 보는 데도 기분이 좋다.</p>

<p>서버에 데이터를 주고 받는 방법으로 String으로 보내서 split()을 사용하는 방법을 이용했는데 너무 주먹구구식으로 짰던 것 같아서 조금은 아쉽다. 일단 내 마음에 들지 않지만 그래도 여기까지 성과 낸 것으로 만족한다. 내일부터 육목대회 준비에 들어가게 되는데 코드를 다시 가다듬고 달려야겠다.</p>

<p>이렇게 자바 공부 모든 라운드를 마무리한다. 조금 늦었지만 교수님과 함께한 3주 너무 알찼고 값진 시간이었다. 각 라운드 마다 초반에 맞이했던 막막함을 하루 이틀이 지나가면서 해결해나가는 것을 보면서 진짜 뭐든 할 수 있을 것 같은 자신감이 생기는 중요한 시간이었다.</p>

<p>이제 교수님 연구도 마무리 단계이고 육목대회 준비에 매진할텐데 이 또한 최선을 다해서 달려보자! 남은 방학도 화이팅!!</p>

<p>내 github 주소는 여기있다:)</p>

<p><a href="https://github.com/gur5381/JavaStudy18-1">https://github.com/gur5381/JavaStudy18-1</a></p>

</article>
<div class="coupang-partners">
  <div class="items">
    <iframe src="https://coupa.ng/cbvuWm" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuuT" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuYz" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuZQ" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvu3h" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
  </div>
  <div class="description">
    이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다.
  </div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>




<section class="tags">
  <strong>Tags:</strong> <a href="/tag/자바서버">자바서버</a>,&nbsp;<a href="/tag/TCP소켓프로그래밍">TCP소켓프로그래밍</a>,&nbsp;<a href="/tag/게임서버연결">게임서버연결</a>,&nbsp;<a href="/tag/자바게임서버">자바게임서버</a>,&nbsp;<a href="/tag/자바소켓프로그래밍">자바소켓프로그래밍</a>
</section>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
    
    
    
    
    
    
  
</section>

	<section class="post-navigation">
		<span class="prev-post">
			
				<a href="/java/2018/07/02/Java-round-5.html">
					<span class="fa-stack fa-lg">
						<i class="fa fa-square fa-stack-2x"></i>
						<i class="fa fa-angle-double-left fa-stack-1x fa-inverse"></i>
					</span>
					<span class="page-number">5라운드. (자바 게임 만들기) 육목게임 만들기!</span>
				</a>
			
		</span>
		<span class="next-post">
			
				<a href="/%EB%A8%B8%EC%8B%A0%EB%9F%AC%EB%8B%9D/2019/01/07/machine-learning-camp-1.html">
					<span class="page-number">(ML) 머신러닝 입문기 - 머신러닝캠프 1일차</span>
					<span class="fa-stack fa-lg">
						<i class="fa fa-square fa-stack-2x"></i>
						<i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
					</span>
				</a>
			
		</span>
	</section>




<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'zoomKoding';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



</div>
</div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">줌코딩의 코딩일기</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/posts/">Posts</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:zoomkoding@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">zoomkoding@gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://github.com/zoomkoding" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">ZoomKoding</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">Zoom in Coding from the Basic.</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<style>
.videoWrapper {
	position: relative;
	padding-bottom: 56.333%;
	height: 0;
    background: black;
}
.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
      url: 'https://vimeo.com/api/oembed.json?url='+url,
      async: true,
      success: function(response) {
        if(response.video_id) {
          id = response.video_id;
          if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
          if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
          var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
          if(autoplay==1) theInnerHTML += '&autoplay=1';
          if(loop==1) theInnerHTML += '&loop=1';
          theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
          el.innerHTML = theInnerHTML;
        }
      }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>




<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-83878761-1', 'auto');
  ga('send', 'pageview', {
    'page': '/java/2018/07/10/Java-round-6.html',
    'title': '6라운드. (자바 네트워크) 육목게임 네트워크 연결하기!'
  });
</script>



  </body>

</html>
