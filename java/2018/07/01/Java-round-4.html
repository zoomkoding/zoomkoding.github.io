<!DOCTYPE html>
<html>

  <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134826755-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134826755-1');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>4라운드. (자바 Image Processing) 포토샵 만들기!</title>
  <meta name="description" content="올해가 절반을 지나가는 이시점에 나는 6라운드 중 4라운드를 마무리하고 자바스터디 마무리를 향해 달려가고 있다:) 피곤하고 힘들지만 조금만 더 힘을 내자!이번 라운드는 이미지 프로세싱, 말로만 듣던 영상처리이다. 뭔가 이름에서 묵직함이 느껴지는데 그만큼 이 공부 기간도 쉽지 않았던...">
  
  <meta name="author" content="Jinhyeok Jeong">
  <meta name="copyright" content="&copy; Jinhyeok Jeong 2022">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="올해가 절반을 지나가는 이시점에 나는 6라운드 중 4라운드를 마무리하고 자바스터디 마무리를 향해 달려가고 있다:) 피곤하고 힘들지만 조금만 더 힘을 내자!이번 라운드는 이미지 프로세싱, 말로만 듣던 영상처리이다. 뭔가 이름에서 묵직함이 느껴지는데 그만큼 이 공부 기간도 쉽지 않았던..." />
  <meta property="og:url" content="https://zoomkoding.github.io" />
  <meta property="og:site_name" content="줌코딩의 코딩일기" />
  <meta property="og:title" content="4라운드. (자바 Image Processing) 포토샵 만들기!" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://zoomkoding.github.io/assets/instacode.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="4라운드. (자바 Image Processing) 포토샵 만들기!">
  <meta name="twitter:description" content="올해가 절반을 지나가는 이시점에 나는 6라운드 중 4라운드를 마무리하고 자바스터디 마무리를 향해 달려가고 있다:) 피곤하고 힘들지만 조금만 더 힘을 내자!이번 라운드는 이미지 프로세싱, 말로만 듣던 영상처리이다. 뭔가 이름에서 묵직함이 느껴지는데 그만큼 이 공부 기간도 쉽지 않았던...">
  <meta name="twitter:image" content="https://zoomkoding.github.io/assets/instacode.png">
  <meta name="twitter:url" content="https://zoomkoding.github.io">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://zoomkoding.github.io/java/2018/07/01/Java-round-4.html">
  <link rel="alternate" type="application/rss+xml" title="줌코딩의 코딩일기" href="https://zoomkoding.github.io/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/Crewcials.jpeg" alt="줌코딩의 코딩일기">
      
    </a>
    <div class="nav-link new-blog outer">
      <button type="button" onclick="location.href='https://www.zoomkoding.com'">
        <div class="button-text">
          <img class="thumbnail" src="https://github.com/zoomKoding/zoomKoding.github.io/blob/source/zoomkoding-small.png?raw=true" alt="개발 블로그 테마 개발">
          <div class="label">
            <div class="name">zoomkoding.com</div>
            <div class="description">이전한 블로그로 이동하기</div>     
          </div>    
        </div>
         
      </button>
    </div>
  
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/posts/">Posts</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

        <li class="nav-link new-blog inner">
          <button type="button" onclick="location.href='https://www.zoomkoding.com'">
            <div class="button-text">
              <img class="thumbnail" src="https://github.com/zoomKoding/zoomKoding.github.io/blob/source/zoomkoding-small.png?raw=true" alt="개발 블로그 테마 개발">
              <div class="label">
                <div class="name">zoomkoding.com</div>
                <div class="description">이전한 블로그로 이동하기</div>     
              </div>    
            </div>
             
          </button>
        </li>
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container has-cover" style="background-image: url(/assets/instacode.png);">
  <div class="scrim has-cover">
    <header class="post-header">
      <h1 class="title">4라운드. (자바 Image Processing) 포토샵 만들기!</h1>
      <p class="info">by <strong>줌코딩</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">



<section class="post-meta">
  <div class="post-date">July 1, 2018</div>
  <div class="post-categories">
  in 
    
    <a href="/category/java">Java</a>
    
  
  </div>
</section>
<div class="coupang-partners">
  <div class="items">
    <iframe src="https://coupa.ng/cbvuWm" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuuT" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuYz" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuZQ" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvu3h" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
  </div>
</div>
<article class="post-content">
  <p>올해가 절반을 지나가는 이시점에 나는 6라운드 중 4라운드를 마무리하고 자바스터디 마무리를 향해 달려가고 있다:) 피곤하고 힘들지만 조금만 더 힘을 내자!
이번 라운드는 이미지 프로세싱, 말로만 듣던 영상처리이다. 
뭔가 이름에서 묵직함이 느껴지는데 그만큼 이 공부 기간도 쉽지 않았던 것 같다.</p>

<p>그럼 과제 내용을 소개하겠다.</p>

<p>포토샵 만들기!</p>

<p>기한 : 6/27(오후 9시) ~ 6/30(오전11시)</p>

<p>기능(택 4) :</p>

<ul>
  <li>이미지 파일 읽어오기</li>
  <li>흑백영상</li>
  <li>엣지추출</li>
  <li>contrast, 밝기 조절</li>
  <li>영상 합성</li>
  <li>돋보기</li>
  <li><strong>야심작 + 알파</strong></li>
</ul>

<p>이번 라운드 목표는 기능구현 그 이상으로 야심작을 잘 구현해내서 보여주는 것과 GUI를 잘 구성하여 시각화 하는 것이었다!!
<strong>(이런거 잘하는 친구들이 너무 부러웠기 때문이다..ㅎㅎ)</strong></p>

<h3 id="그럼-일단-결과물부터-보고가자">그럼 일단 결과물부터 보고가자!</h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/1.png" alt="사진" /></p>

<p>나름 잘 예쁘지 않나..!?ㅎㅎㅎㅎㅎ</p>

<p>일단 나는 나름 만족했다.</p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/2.png" alt="사진" /></p>

<p>짜잔 ㅎㅎㅎㅎ</p>

<p>일단 처음에 이미지를 어떻게 수정하는지 막막해서 여러 구글링을 해본 결과 각 사진은 작은 픽셀들로 구성되어 있는데 그 픽셀들의 RGB값을 바꿔주면 이미지의 색상을 바꿀 수 있다로 한다.</p>

<p>RGB란 red green blue 색상을 섞은 것을 의미하는데
각 색이 255에 가까울수록 연해지고 0에 가까울수록 어두워진다.
(나는 직관적으로 0이 흰색이라 생각했는데 정반대다..쳇…)</p>

<p>일단</p>

<p>기능은 다음과 같다!</p>

<h3 id="1-로드-파일">1. 로드 파일!</h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/3.png" alt="사진" /></p>

<p>파일을 로드할 수 있게 해준다.
이것은 JFileChooser를 활용했다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FileNameExtensionFilter filter = new FileNameExtensionFilter("JPG&amp;GIF Images", "jpg", "gif", "jpeg");
chooser.setFileFilter(filter);
int ret = chooser.showOpenDialog(null);
if(ret!= JFileChooser.APPROVE_OPTION) {
JOptionPane.showMessageDialog(null, "파일을 선택하지 않았습니다.", "경고", JOptionPane.WARNING_MESSAGE);
return;
} 
filePath=chooser.getSelectedFile().getPath();
try {
Image resizeImage;
BufferedImage image;
File input = new File(filePath);
image = ImageIO.read(input);
resizeImage = image.getScaledInstance(w, h, Image.SCALE_SMOOTH);
newImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);
Graphics g = newImage.getGraphics();
g.drawImage(resizeImage, 0, 0, null);
g.dispose(); 
}catch....
</code></pre></div></div>

<p>나는 모든 사진 파일을 저 560X720 판넬에 넣기 위해서 resizeImage를 getScaledInstance명령을 이용해서 생성해주었고 그 이미지를 newImage라는 bufferedImage로 저장해주었다!</p>

<h3 id="2-gray-scale">2. Gray Scale</h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/4.png" alt="사진" /></p>

<p>다음은 그레이스케일이다.</p>

<p>이건 내가 진행했던 이미지 프로세싱 중에서 제법 쉬운 축에 속했다.</p>

<p>for문 두개를 활용해서 각 픽셀의 rgb값을 받아온뒤에 red, green, blue에 특정 값(인터넷에서 찾았다..ㅎㅎ)을 곱해준 후에 그 값을 다시 rgb값으로 변환해서 이미지에 저장해주면 흑백사진이 만들어진다!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for(int i=0; i&lt;height; i++) {
for(int j=0; j&lt;width; j++) {
Color c = new Color(newImage.getRGB(j, i));
int red = (int)(c.getRed() * 0.299);
int green = (int)(c.getGreen() * 0.587);
int blue = (int)(c.getBlue() * 0.114);
Color newColor = new Color(red+green+blue, red+green+blue, red+green+blue);
changedImage.setRGB(j, i, newColor.getRGB());
}
}
Graphics2D g6 = (Graphics2D)drawPanel2.getGraphics();
g6.drawImage(changedImage, 0, 0, null);
</code></pre></div></div>

<h3 id="3-edge-detect"><strong>3. Edge Detect</strong></h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/5.png" alt="사진" /></p>

<p><em>일단 제일 공을 많이 들인 부분이다.</em></p>

<p><em>이해하는데 너무 오래걸렸다….(물론 길어야 하루도 안갔지만)</em></p>

<p>Convolution과 Kernel을 활용해보았다!! Convolution에 대한 이해는 내가 시켜주는 것보다 내가 공부했던 사이트를 첨부해주겠다.</p>

<p><a href="https://www.youtube.com/watch?v=C_zFhWdM4ic&amp;t=43s">https://www.youtube.com/watch?v=C_zFhWdM4ic&amp;t=43s</a></p>

<p><a href="https://m.blog.naver.com/kjh3864/220974040454">https://m.blog.naver.com/kjh3864/220974040454</a></p>

<p>일단 내가 이해한 바를 조금 설명해보자면 Convolution을 활용한다함은 음..</p>

<p>filter에 해당하는 틀(3x3, 5x5, …)을 만들어서 A 픽셀의 주변 색상값에 미리 설정해준 필터값을 곱한 뒤 평균을 구해서 A 픽셀의 색상으로 설정해주는 것이다. 근데 이때 필터라는 Array값을 잘 변경하다보면 사진 색상에 다양한 변화를 줄 수 있다.</p>

<p>나는 위 블로그의 코드를 인용해서 코드를 짰는데</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>double[][] filterEdge = 
{ { -1, -1, -1 }, 
{ -1,  8, -1  }, 
{ -1, -1, -1  }}; 
</code></pre></div></div>

<p>필터의 값을 다음과 같이 설정해주어서 결과를 얻어낼 수 있었다!</p>

<p><strong>그리고 미리 edge를 좀 뚜렸하게해주기 위해 sharpenfilter를 따로 만들어 한번 진행하고 엣지필터를 입히니 좀더 선명하게 엣지를 찾을 수 있었다.</strong></p>

<h3 id="4-밝기--contrast-조절">4. 밝기 &amp; Contrast 조절</h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/6.png" alt="사진" /></p>

<p>밝기는 쉬운 편이었다! 픽셀 Red, Green, Blue에 입력받은 bright값을 추가하는 식으로 진행했다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for(int y = 0 ; y &lt; newImage.getHeight(); y++) {
for(int x = 0; x &lt; newImage.getWidth(); x++) {
Color c = new Color(newImage.getRGB(x, y));


red[y][x] = c.getRed() + bright;
blue[y][x] = c.getBlue() + bright;
green[y][x] = c.getGreen() + bright;
red[y][x] = Math.max(0, red[y][x]); 
blue[y][x] = Math.max(0, blue[y][x]); 
green[y][x] = Math.max(0, green[y][x]);
red[y][x] = Math.min(255, red[y][x]); 
blue[y][x] = Math.min(255, blue[y][x]); 
green[y][x] = Math.min(255, green[y][x]);
Color d = new Color(red[y][x], green[y][x], blue[y][x]);
tempImage.setRGB(x, y, d.getRGB());
}
}
</code></pre></div></div>

<p>그리고 contrast는 RescaleOp라는 bufferedImageOp filter 메소드를 이용해서 구현해보았다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RescaleOp rescale = new RescaleOp((float)(contrast/100), 0, null);
return rescale.filter(tempImage, null);
</code></pre></div></div>

<h3 id="5-look-up--distinct-기능">5. Look Up &amp; Distinct 기능</h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/7.png" alt="사진" /></p>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/8.png" alt="사진" /></p>

<p>룩업과 디스팅트는 각각 BufferedImageOp 필터를 활용해서 만들어주었는데 이것은 awt에서 제공하고 있는 아주 유용한 메소드이다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>short[] data = new short[256];
for (short i = 0; i &lt; 256; i++) {
data[i] = (short) (255 - i);
}


LookupTable lookupTable = new ShortLookupTable(0, data);
LookupOp op = new LookupOp(lookupTable, null);
changedImage = op.filter(changedImage, null);
Graphics2D g7 = (Graphics2D)drawPanel2.getGraphics();
g7.drawImage(changedImage, 0, 0, null);
</code></pre></div></div>

<p>BufferedImageFilter에 대한 활용은 다음 사이트를 참고하길 바란다!</p>

<p><a href="http://www.informit.com/articles/article.aspx?p=1013851&amp;seqNum=2">http://www.informit.com/articles/article.aspx?p=1013851&amp;seqNum=2</a></p>

<h3 id="6-돋보기-기능">6. 돋보기 기능</h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/9.png" alt="사진" /></p>

<p><strong>돋보기와 옆에 미리보기 창은 픽셀을 따로 건드리지 않고 bufferedImage의 메소드를 활용해서 만들어봤다!!</strong></p>

<p>먼저, 이미지의 부분을 가져올 수 있는 getSubimage 메소드를 활용해서 마우스가 있는 위치 부분을 subimage를 저장한 후에 그 이미지를 확대하여 출력하는 식으로 했다.</p>

<p>getScaledInstance 메소드를 이용하면 원하는 사이즈로 확대가 가능하다!!</p>

<p>그리고 원형으로 돋보기를 만들기 위해서 Ellipse2D를 만들어서 그안에 이미지를 그려주었다!ㅎㅎ</p>

<p>내 방법이 꽤 괜찮은 거 같아서 뿌듯하다:)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if(expand == 1) {
    if(mx&gt;25 &amp;&amp; my&gt;25 &amp;&amp; mx+25&lt;560 &amp;&amp; my+25&lt;720) {
        BufferedImage temp = changedImage.getSubimage(mx-25, my-25, 50, 50);
        Image image = temp.getScaledInstance(expwidth, expwidth, Image.SCALE_SMOOTH);
        expcircle = new Ellipse2D.Float(mx - expwidth/2, my - expwidth/2, expwidth, expwidth);
        g2.setClip(expcircle);
        g2.drawImage(image, mx-expwidth/2, my-expwidth/2, expwidth, expwidth, null);
    }
}
</code></pre></div></div>

<h3 id="7-여드름-패치야심작"><strong>7. 여드름 패치(야심작!!)</strong></h3>

<p><img src="https://raw.githubusercontent.com/zoomKoding/zoomKoding.github.io/source/assets/_posts/Java-Project/Round4/10.png" alt="사진" /></p>

<p>다음은 여드름 패치기능이다.. 이번 라운드 나의 최종변기이자 야심작이다 ㅎㅎ
데모 때 나름 반응도 괜찮았다:) ㅎㅎㅎ</p>

<p>일단 기능은 다음과 같이 이미지에 나온 여드름과 같은 잡티를 없애주는 기능이다ㅎㅎ</p>

<p>무엇보다 기능은 blur을 이용했다. convolution을 이해한 것을 기반으로 필터를 모든 원소가 1인 3X3 배열로 설정해주어서 주변값과 비슷한 색상으로 마우스가 위치한 일부지점 값만 변경해주었다 ㅎㅎ</p>

<p>나름 성공적이었다. 그리고 생각보다 여드름이 잘지워져서 나도 놀란 신기한 기능이다.</p>

<p>먼저 bufferedImage의 모든 픽셀 값을 받은 후에 일부만 수정하고 다시 다 돌려 넣어주는 것으로 진행했다!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public void toColorArray() {
    for(int y = 0; y &lt; height; y++) {
        for(int x = 0; x &lt; width; x++) {
            Color c = new Color(changedImage.getRGB(x, y));
            red[y][x] = c.getRed();
            blue[y][x] = c.getBlue();
            green[y][x] = c.getGreen();
            outred[y][x] = c.getRed();
            outblue[y][x] = c.getBlue();
            outgreen[y][x] = c.getGreen();
        }
    }


    for(int y = my - 3 ; y &lt; my + 3; y++) {
        for(int x = mx - 3 ; x &lt; mx + 3; x++) {
            outred[y][x] = 0;
            outgreen[y][x] = 0;
            outblue[y][x] = 0;
        }
    }


    for(int y = my - 3 ; y &lt; my + 3; y++) {
        for(int x = mx - 3 ; x &lt; mx + 3; x++) {
            for(int i = 0; i&lt; patch; i++) {
                for(int j = 0; j &lt; patch; j++) {
                    outred[y][x] += red[y-1+i][x-1+j]/(patch*patch);
                    outblue[y][x] += blue[y-1+i][x-1+j]/(patch*patch);
                    outgreen[y][x] += green[y-1+i][x-1+j]/(patch*patch);
                }
            }


        }
    }


    for(int y = 0; y &lt; height; y++) {
        for(int x = 0; x &lt; width; x++) {
            changedImage.setRGB(x, y, new Color((int) outred[y][x], (int) outgreen[y][x], (int) outblue[y][x]).getRGB());
        }
    }


    Graphics2D g7 = (Graphics2D)drawPanel2.getGraphics();
    g7.drawImage(changedImage, 0, 0, null);
}
</code></pre></div></div>

<p>코드는 잘 못짰다.. 실력이 부족한 건 이해바란다 ㅎㅎㅎㅎ</p>

<h3 id="그리고-이번-코드를-하면서-가장-막혔던-부분">그리고 이번 코드를 하면서 가장 막혔던 부분!!</h3>
<h3 id="bufferedimage-copy방법이다">BufferedImage Copy방법이다!!</h3>

<p>카피에 두종류가 있는데 shallow copy와 deep copy가 있다.
shallow copy는 a를 카피해서 b에 저장한 후에 a값을 수정하면 b값도 수정된다..(전혀 원하지 않았다..)
그래서 필요한 것이 deep copy이다. deep copy는 복사 후에도 값이 수정되지 않는다!</p>

<p>버퍼드이미지를 deepcopy 하기 위해서 다음 메소드를 사용했다!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static BufferedImage deepCopy(BufferedImage bi) {
ColorModel cm = bi.getColorModel();
boolean isAlphaPremultiplied = cm.isAlphaPremultiplied();
WritableRaster raster = bi.copyData(bi.getRaster().createCompatibleWritableRaster());
return new BufferedImage(cm, raster, isAlphaPremultiplied, null);
}
</code></pre></div></div>

<p>bufferedimage를 완벽하게 복사하고 싶다면 다음 메소드를 사용하면 좋겠다!!</p>

<p>후우.. 드디어 4라운드를 마무리했다. 여태까지 했던 것 중에 공부 과정이 제일 힘들었고 문제가 있어도 이미지 어디가 문제인지 알기가 쉽지 않아서 어려웠던 과제였다. 그래도 이미지를 수정한다는 것이 어떤 느낌인지 대강은 이해할 수 있었던 아주 귀한 기회였다고 생각한다. 다음 라운드도 최선을 다해서 진행해보자. 화이팅!(일단 주말 쉬고:))</p>

<p>코드는 github에 게시해놨다.</p>

<p><a href="https://github.com/gur5381/JavaStudy18-1">https://github.com/gur5381/JavaStudy18-1</a></p>


</article>
<div class="coupang-partners">
  <div class="items">
    <iframe src="https://coupa.ng/cbvuWm" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuuT" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuYz" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvuZQ" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
    <iframe src="https://coupa.ng/cbvu3h" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"></iframe>
  </div>
  <div class="description">
    이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다.
  </div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>




<section class="tags">
  <strong>Tags:</strong> <a href="/tag/자바ImageProcessing">자바ImageProcessing</a>,&nbsp;<a href="/tag/자바영상처리">자바영상처리</a>,&nbsp;<a href="/tag/자바돋보기">자바돋보기</a>,&nbsp;<a href="/tag/자바포토샵">자바포토샵</a>,&nbsp;<a href="/tag/bufferedImageop">bufferedImageop</a>,&nbsp;<a href="/tag/bufferedImage활용">bufferedImage활용</a>,&nbsp;<a href="/tag/deepcopy">deepcopy</a>,&nbsp;<a href="/tag/자바파일읽기">자바파일읽기</a>,&nbsp;<a href="/tag/convolution">convolution</a>,&nbsp;<a href="/tag/kernel">kernel</a>
</section>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
    
    
    
    
    
    
  
</section>

	<section class="post-navigation">
		<span class="prev-post">
			
				<a href="/java/2018/06/28/Java-round-3.html">
					<span class="fa-stack fa-lg">
						<i class="fa fa-square fa-stack-2x"></i>
						<i class="fa fa-angle-double-left fa-stack-1x fa-inverse"></i>
					</span>
					<span class="page-number">3라운드. (자바 Mysql 연동 DB) 로그인 프로그램 만들기!</span>
				</a>
			
		</span>
		<span class="next-post">
			
				<a href="/java/2018/07/02/Java-round-5.html">
					<span class="page-number">5라운드. (자바 게임 만들기) 육목게임 만들기!</span>
					<span class="fa-stack fa-lg">
						<i class="fa fa-square fa-stack-2x"></i>
						<i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
					</span>
				</a>
			
		</span>
	</section>




<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'zoomKoding';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



</div>
</div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">줌코딩의 코딩일기</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/posts/">Posts</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:zoomkoding@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">zoomkoding@gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://github.com/zoomkoding" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">ZoomKoding</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">Zoom in Coding from the Basic.</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<style>
.videoWrapper {
	position: relative;
	padding-bottom: 56.333%;
	height: 0;
    background: black;
}
.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
      url: 'https://vimeo.com/api/oembed.json?url='+url,
      async: true,
      success: function(response) {
        if(response.video_id) {
          id = response.video_id;
          if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
          if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
          var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
          if(autoplay==1) theInnerHTML += '&autoplay=1';
          if(loop==1) theInnerHTML += '&loop=1';
          theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
          el.innerHTML = theInnerHTML;
        }
      }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>




<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-83878761-1', 'auto');
  ga('send', 'pageview', {
    'page': '/java/2018/07/01/Java-round-4.html',
    'title': '4라운드. (자바 Image Processing) 포토샵 만들기!'
  });
</script>



  </body>

</html>
